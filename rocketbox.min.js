var app_token = "-- YOUR TOKEN HERE --";

function Rocketbox(){function c(a,b,c){return c.replace(new RegExp(a,"g"),b)}var a=this,b="https://www.rocketbox.io/api/v1/";this.ajaxX=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(var b,a=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],c=0;c<a.length;c++)try{b=new ActiveXObject(a[c]);break}catch(d){}return b},this.send=function(b,c,d,e,f){var g=a.ajaxX();g.open(d,b,f),g.onreadystatechange=function(){4==g.readyState&&c(JSON.parse(g.responseText))},"POST"==d&&g.setRequestHeader("Content-type","application/x-www-form-urlencoded"),g.send(e)},this.ajaxGet=function(c,d,e,f){var g=[];for(var h in d)g.push(encodeURIComponent(h)+"="+encodeURIComponent(d[h]));a.send(b+c+"?"+g.join("&"),e,"GET",null,f)},this.ajaxPost=function(c,d,e,f){var g=[];for(var h in d)g.push(encodeURIComponent(h)+"="+encodeURIComponent(d[h]));a.send(b+c,e,"POST",g.join("&"),f)},this.replaceAllValues=function(){for(var b=document.documentElement.innerHTML,d=/{.*?}/g,e=b.match(d),f="",g=0;g<e.length;g++){var h=e[g],i=h.replace("{","").replace("}","");f+=i+","}a.ajaxPost("get",{token:app_token,key:f},function(a){if(a&&a.success){for(var b=document.documentElement.innerHTML,d=0;d<a.records.length;d++)b=c("{"+a.records[d].key+"}",a.records[d].value,b);document.documentElement.innerHTML=b}},!1)},this.get=function(b,c){a.ajaxPost("get",{token:app_token,key:b},function(a){c(a)},!0)},this.getAll=function(b,c){a.ajaxPost("getAll",{token:app_token},function(a){c(a)},!0)},this.delete=function(b,c){a.ajaxPost("delete",{token:app_token,key:b},function(a){c(a)},!0)},this.set=function(b,c,d){a.ajaxPost("set",{token:app_token,key:b,value:c},function(a){d(a)},!0)},this.collectionAdd=function(b,c,d){a.ajaxPost("collection/add",{token:app_token,key:b,value:JSON.stringify(c)},function(a){d(a)},!0)},this.collectionEdit=function(b,c,d){a.ajaxPost("collection/edit",{token:app_token,key:b,value:JSON.stringify(c)},function(a){d(a)},!0)},this.collectionGet=function(b,c){a.ajaxPost("collection/get",{token:app_token,key:b},function(a){c(a)},!0)},this.collectionGetAll=function(b){a.ajaxPost("collection/getAll",{token:app_token},function(a){b(a)},!0)},this.collectionDelete=function(b,c){a.ajaxPost("collection/delete",{token:app_token,_id:b},function(a){c(a)},!0)},this.collectionSearch=function(b,c,d){a.ajaxPost("collection/search",{token:app_token,key:b,value:JSON.stringify(c)},function(a){d(a)},!0)},this.collectionSearchById=function(b,c){a.ajaxPost("collection/searchById",{token:app_token,_id:b},function(a){c(a)},!0)},this.collectionDrop=function(b,c){a.ajaxPost("collection/drop",{token:app_token,key:b},function(a){c(a)},!0)},this.sendMail=function(b,c){a.ajaxPost("mail/send",{token:app_token,value:JSON.stringify(b)},function(a){c(a)},!0)},this.uploadFile=function(c,d,e){if(void 0!=c.file){var f=new FormData;void 0==c.fileName&&(c.fileName=""),f.append("file",c.file),f.append("fileName",c.fileName),f.append("token",app_token);var g=a.ajaxX();g.open("POST",b+"uploadFile",!0),g.upload.onprogress=function(a){if(a.lengthComputable){var b=100*(a.loaded/a.total);d(b)}},g.onreadystatechange=function(){4==g.readyState&&200==g.status?e(JSON.parse(g.responseText)):400==g.status&&e({success:!1,msg:"Error to upload file"})},g.onerror=function(){e({success:!0,msg:"Error to upload file"})},g.send(f)}else e({success:!1,msg:"File undefined"})}}